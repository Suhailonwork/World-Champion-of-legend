(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[487],{7427:(e,t)=>{"use strict";t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},o=e.split(";"),n=(t||{}).decode||i,s=0;s<o.length;s++){var a=o[s],d=a.indexOf("=");if(!(d<0)){var l=a.substring(0,d).trim();if(void 0==r[l]){var c=a.substring(d+1,a.length).trim();'"'===c[0]&&(c=c.slice(1,-1)),r[l]=function(e,t){try{return t(e)}catch(t){return e}}(c,n)}}}return r},t.serialize=function(e,t,i){var n=i||{},s=n.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var a=s(t);if(a&&!o.test(a))throw TypeError("argument val is invalid");var d=e+"="+a;if(null!=n.maxAge){var l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");d+="; Max-Age="+Math.floor(l)}if(n.domain){if(!o.test(n.domain))throw TypeError("option domain is invalid");d+="; Domain="+n.domain}if(n.path){if(!o.test(n.path))throw TypeError("option path is invalid");d+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw TypeError("option expires is invalid");d+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(d+="; HttpOnly"),n.secure&&(d+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"none":d+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return d};var i=decodeURIComponent,r=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},6224:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/lwl/login",function(){return i(7730)}])},7730:(e,t,i)=>{"use strict";i.r(t),i.d(t,{__N_SSP:()=>p,default:()=>x});var r=i(4848),o=i(5703),n=i.n(o),s=i(9546),a=i(2404),d=i(6715),l=i(1536),c=i(6540),p=!0;let x=()=>{let e=(0,d.useRouter)(),[t,i]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[x,f]=(0,c.useState)(""),[u,m]=(0,c.useState)(""),[b,h]=(0,c.useState)(""),[g,j]=(0,c.useState)(null),w=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),y=async i=>{if(i.preventDefault(),f(""),m(""),h(""),!t.trim()){f("Email cannot be empty.");return}if(!w(t)){f("Please enter a valid email address.");return}if(!o.trim()){m("Password cannot be empty.");return}try{let i=await fetch("/api/lwl/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:o})});if(!i.ok)throw Error("Login failed. Please try again.");let r=await i.json();if(200===r.statusCode)r.data.user.paymentInfo.isPaid?(j(!0),(0,l.setCookie)(null,"current_user",JSON.stringify(r.data),{path:"/"}),e.push("/lwl/dashboard")):j(!1);else throw Error(r.message||"Login failed. Please try again.")}catch(e){h(e.message)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-379541deb50e114d main",children:[(0,r.jsx)(a.A,{}),(0,r.jsx)("div",{className:"jsx-379541deb50e114d body",children:(0,r.jsxs)("div",{className:"jsx-379541deb50e114d lwl-container",children:[(0,r.jsx)("div",{className:"jsx-379541deb50e114d lwl-header-container",children:(0,r.jsx)("div",{className:"jsx-379541deb50e114d page-headers",children:(0,r.jsx)("h1",{className:"jsx-379541deb50e114d",children:"Live with the Legends Login"})})}),(0,r.jsx)("div",{className:"jsx-379541deb50e114d login-container",children:(0,r.jsxs)("form",{onSubmit:y,className:"jsx-379541deb50e114d",children:[(0,r.jsxs)("label",{className:"jsx-379541deb50e114d",children:["Email Address",(0,r.jsx)("input",{type:"email",placeholder:"Enter your email address",value:t,onChange:e=>i(e.target.value.toLowerCase()),className:"jsx-379541deb50e114d"}),x&&(0,r.jsx)("span",{className:"jsx-379541deb50e114d error",children:x})]}),(0,r.jsxs)("label",{className:"jsx-379541deb50e114d",children:["Password",(0,r.jsx)("input",{type:"password",placeholder:"Enter your password",value:o,onChange:e=>p(e.target.value.toUpperCase()),className:"jsx-379541deb50e114d"}),u&&(0,r.jsx)("span",{className:"jsx-379541deb50e114d error",children:u})]}),b&&(0,r.jsx)("span",{className:"jsx-379541deb50e114d error",children:b}),(0,r.jsx)("button",{type:"submit",className:"jsx-379541deb50e114d",children:"Login"}),!1===g&&(0,r.jsx)("span",{className:"jsx-379541deb50e114d error",children:"You haven't paid yet. Create your account again."})]})})]})}),(0,r.jsx)(s.A,{})]}),(0,r.jsx)(n(),{id:"379541deb50e114d",children:'.main.jsx-379541deb50e114d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.lwl-container.jsx-379541deb50e114d{width:100%;max-width:1280px;padding:0 20px;margin:auto;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:100px;margin-top:80px}.lwl-header-container.jsx-379541deb50e114d{width:100%}.page-headers.jsx-379541deb50e114d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:20px;text-align:center}.page-headers.jsx-379541deb50e114d div.jsx-379541deb50e114d{color:#fff;font-family:"Poppins Semibold";font-size:35px;text-transform:uppercase}.login-container.jsx-379541deb50e114d{width:100%;margin:auto;padding:0 2rem 290px 2rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:20px}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d label.jsx-379541deb50e114d{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:5px;color:#fff;font-family:"Poppins Regular";font-weight:500;font-size:16px;letter-spacing:.02em;text-transform:uppercase}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d input.jsx-379541deb50e114d,.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d select.jsx-379541deb50e114d{width:100%;height:50px;padding:0 10px;border:solid 2px#ABB1CB;outline:none;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background-color:transparent;color:#fff;font-family:"Poppins Regular";font-weight:500;font-size:16px;letter-spacing:.02em;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d input.jsx-379541deb50e114d:hover,.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d input.jsx-379541deb50e114d:active,.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d input.jsx-379541deb50e114d:focus{border:solid 2px#fff}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d select.jsx-379541deb50e114d{-webkit-appearance:none}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d input.jsx-379541deb50e114d::-webkit-input-placeholder{color:#ABB1CB}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d input.jsx-379541deb50e114d:-moz-placeholder{color:#ABB1CB}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d input.jsx-379541deb50e114d::-moz-placeholder{color:#ABB1CB}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d input.jsx-379541deb50e114d:-ms-input-placeholder{color:#ABB1CB}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d input.jsx-379541deb50e114d::-ms-input-placeholder{color:#ABB1CB}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d input.jsx-379541deb50e114d::placeholder{color:#ABB1CB}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d button.jsx-379541deb50e114d{width:100%;height:50px;padding:0 10px;border:none;outline:none;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background-color:#fff;color:#2D3B7D;font-family:"Poppins Regular";font-weight:500;font-size:16px;letter-spacing:.02em;text-transform:uppercase;cursor:pointer}.login-container.jsx-379541deb50e114d h6.jsx-379541deb50e114d{color:#fff;font-family:"Poppins Regular";font-weight:500;font-size:30px;letter-spacing:.02em;text-transform:uppercase;margin:auto}.login-container.jsx-379541deb50e114d form.jsx-379541deb50e114d span.jsx-379541deb50e114d{color:red;font-family:"Poppins Regular";text-transform:uppercase;letter-spacing:.02em;font-size:14px;margin-top:5px}'})]})}},1536:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.destroyCookie=t.setCookie=t.parseCookies=void 0;var o=i(7427),n=i(4635),s=i(6905);function a(e,t){var i,r;return(null===(r=null===(i=null==e?void 0:e.req)||void 0===i?void 0:i.headers)||void 0===r?void 0:r.cookie)?o.parse(e.req.headers.cookie,t):s.isBrowser()?o.parse(document.cookie,t):{}}function d(e,t,i,a){var d,l;if(void 0===a&&(a={}),(null===(d=null==e?void 0:e.res)||void 0===d?void 0:d.getHeader)&&e.res.setHeader){if(null===(l=null==e?void 0:e.res)||void 0===l?void 0:l.finished)return console.warn('Not setting "'+t+'" cookie. Response has finished.'),console.warn("You should set cookie before res.send()"),{};var c=e.res.getHeader("Set-Cookie")||[];"string"==typeof c&&(c=[c]),"number"==typeof c&&(c=[]);var p=n.parse(c,{decodeValues:!1}),x=s.createCookie(t,i,a),f=[];p.forEach(function(e){if(!s.areCookiesEqual(e,x)){var t=o.serialize(e.name,e.value,r({encode:function(e){return e}},e));f.push(t)}}),f.push(o.serialize(t,i,a)),e.res.setHeader("Set-Cookie",f)}if(s.isBrowser()){if(a&&a.httpOnly)throw Error("Can not set a httpOnly cookie in the browser.");document.cookie=o.serialize(t,i,a)}return{}}function l(e,t,i){return d(e,t,"",r(r({},i||{}),{maxAge:-1}))}t.parseCookies=a,t.setCookie=d,t.destroyCookie=l,t.default={set:d,get:a,destroy:l}},6905:function(e,t){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(e,t){var i=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(i.length!==r.length)return!1;for(var o=0;o<i.length;o++){var n=i[o];if(e[n]!==t[n])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.areCookiesEqual=t.hasSameProperties=t.createCookie=t.isBrowser=void 0,t.isBrowser=function(){return"undefined"!=typeof window},t.createCookie=function(e,t,r){var o=r.sameSite;!0===o&&(o="strict"),(void 0===o||!1===o)&&(o="lax");var n=i(i({},r),{sameSite:o});return delete n.encode,i({name:e,value:t},n)},t.hasSameProperties=r,t.areCookiesEqual=function(e,t){var o=e.sameSite===t.sameSite;return"string"==typeof e.sameSite&&"string"==typeof t.sameSite&&(o=e.sameSite.toLowerCase()===t.sameSite.toLowerCase()),r(i(i({},e),{sameSite:void 0}),i(i({},t),{sameSite:void 0}))&&o}},4635:e=>{"use strict";var t={decodeValues:!0,map:!1,silent:!1};function i(e){return"string"==typeof e&&!!e.trim()}function r(e,r){var o,n,s,a,d=e.split(";").filter(i),l=(o=d.shift(),n="",s="",(a=o.split("=")).length>1?(n=a.shift(),s=a.join("=")):s=o,{name:n,value:s}),c=l.name,p=l.value;r=r?Object.assign({},t,r):t;try{p=r.decodeValues?decodeURIComponent(p):p}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+p+"'. Set options.decodeValues to false to disable this feature.",e)}var x={name:c,value:p};return d.forEach(function(e){var t=e.split("="),i=t.shift().trimLeft().toLowerCase(),r=t.join("=");"expires"===i?x.expires=new Date(r):"max-age"===i?x.maxAge=parseInt(r,10):"secure"===i?x.secure=!0:"httponly"===i?x.httpOnly=!0:"samesite"===i?x.sameSite=r:"partitioned"===i?x.partitioned=!0:x[i]=r}),x}function o(e,o){if(o=o?Object.assign({},t,o):t,!e)return o.map?{}:[];if(e.headers){if("function"==typeof e.headers.getSetCookie)e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var n=e.headers[Object.keys(e.headers).find(function(e){return"set-cookie"===e.toLowerCase()})];n||!e.headers.cookie||o.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=n}}return(Array.isArray(e)||(e=[e]),o.map)?e.filter(i).reduce(function(e,t){var i=r(t,o);return e[i.name]=i,e},{}):e.filter(i).map(function(e){return r(e,o)})}e.exports=o,e.exports.parse=o,e.exports.parseString=r,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var t,i,r,o,n,s=[],a=0;function d(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,n=!1;d();)if(","===(i=e.charAt(a))){for(r=a,a+=1,d(),o=a;a<e.length&&"="!==(i=e.charAt(a))&&";"!==i&&","!==i;)a+=1;a<e.length&&"="===e.charAt(a)?(n=!0,a=o,s.push(e.substring(t,r)),t=a):a=r+1}else a+=1;(!n||a>=e.length)&&s.push(e.substring(t,e.length))}return s}}},e=>{var t=t=>e(e.s=t);e.O(0,[98,23,636,593,792],()=>t(6224)),_N_E=e.O()}]);