(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[158],{7427:(e,t)=>{"use strict";t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},o=e.split(";"),n=(t||{}).decode||i,s=0;s<o.length;s++){var a=o[s],l=a.indexOf("=");if(!(l<0)){var c=a.substring(0,l).trim();if(void 0==r[c]){var f=a.substring(l+1,a.length).trim();'"'===f[0]&&(f=f.slice(1,-1)),r[c]=function(e,t){try{return t(e)}catch(t){return e}}(f,n)}}}return r},t.serialize=function(e,t,i){var n=i||{},s=n.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var a=s(t);if(a&&!o.test(a))throw TypeError("argument val is invalid");var l=e+"="+a;if(null!=n.maxAge){var c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(n.domain){if(!o.test(n.domain))throw TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!o.test(n.path))throw TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var i=decodeURIComponent,r=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},5538:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/lwl/payment/success/[slug]",function(){return i(1153)}])},1153:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var r=i(4848),o=i(5703),n=i.n(o),s=i(9546),a=i(2404),l=i(1106),c=i.n(l),f=i(6715),d=i(1536),p=i(6540);let u=()=>{let e=(0,f.useRouter)(),t=(0,d.parseCookies)(),i=null,o=null;try{var l;o=(null==(i=t.current_user?JSON.parse(t.current_user):null)?void 0:null===(l=i.user)||void 0===l?void 0:l.email)||null}catch(e){console.error("Error parsing current_user cookie:",e)}return(0,p.useEffect)(()=>{(async()=>{if(!o){console.warn("No user email found, skipping payment check.");return}try{let r=await fetch("/api/lwl/check-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),n=await r.json();if(r.ok){var t;let r=null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.isPaid;if(!0==r){let t=setInterval(()=>{if("undefined"!=typeof smartech){var r,o,n,s,a;smartech("contact","LIST_IDENTIFIER",{"pk^email":null===(r=i.user)||void 0===r?void 0:r.email,NAME:null===(o=i.user)||void 0===o?void 0:o.name}),smartech("identify",null===(n=i.user)||void 0===n?void 0:n.email),smartech("dispatch","payment_success",{transaction_id:e.query.slug,email:null===(s=i.user)||void 0===s?void 0:s.email,name:null===(a=i.user)||void 0===a?void 0:a.name,"Payment Status":!0}),clearInterval(t)}},500);(0,d.destroyCookie)(null,"current_user")}else await e.push("/lwl/payment/failure/".concat(e.query.slug))}else console.error("Payment check failed:",n)}catch(e){console.error("Error during payment check:",e)}})()},[o,e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-7f841737802b69f5 main",children:[(0,r.jsx)(a.A,{}),(0,r.jsx)("div",{className:"jsx-7f841737802b69f5 body",children:(0,r.jsx)("div",{className:"jsx-7f841737802b69f5 lwl-container",children:(0,r.jsx)("div",{className:"jsx-7f841737802b69f5 lwl-header-container",children:(0,r.jsxs)("div",{className:"jsx-7f841737802b69f5 page-headers",children:[(0,r.jsx)("h1",{className:"jsx-7f841737802b69f5",children:"Payment Successful"}),(0,r.jsxs)("p",{className:"jsx-7f841737802b69f5",children:["Thank you for your payment. You will receive an email from us shortly with the next steps. If you do not receive this email, contact us at"," ",(0,r.jsx)("span",{onClick:()=>window.location.href="mailto:support@wclcricket.com",className:"jsx-7f841737802b69f5",children:"support@wclcricket.com"}),"."]}),(0,r.jsx)(c(),{href:"/lwl/login",children:(0,r.jsx)("button",{className:"jsx-7f841737802b69f5",children:"Go to Login"})})]})})})}),(0,r.jsx)(s.A,{})]}),(0,r.jsx)(n(),{id:"7f841737802b69f5",children:'.main.jsx-7f841737802b69f5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.lwl-container.jsx-7f841737802b69f5{width:100%;max-width:1280px;padding:0 20px;margin:auto;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:100px;margin-top:80px}.lwl-header-container.jsx-7f841737802b69f5{width:100%}.lwl-header-container.jsx-7f841737802b69f5 ul.jsx-7f841737802b69f5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:5px;list-style:none}.lwl-header-container.jsx-7f841737802b69f5 ul.jsx-7f841737802b69f5 li.jsx-7f841737802b69f5{color:#ABB1CB;font-family:"Poppins Regular";font-size:16px;letter-spacing:1px;text-transform:uppercase}.page-headers.jsx-7f841737802b69f5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:20px;text-align:center;padding:260px 0}@media screen and (max-width:767px){.page-headers.jsx-7f841737802b69f5{padding:150px 0}}.page-headers.jsx-7f841737802b69f5 div.jsx-7f841737802b69f5{color:#fff;font-family:"Poppins Bold";font-weight:500;font-size:45px;letter-spacing:.02em;text-transform:uppercase}.page-headers.jsx-7f841737802b69f5 p.jsx-7f841737802b69f5{margin:auto;width:70%;color:#fff;font-family:"Poppins Light";font-weight:400;font-size:18px;letter-spacing:.02em;text-transform:uppercase;text-align:center}@media screen and (max-width:767px){.page-headers.jsx-7f841737802b69f5 p.jsx-7f841737802b69f5{width:100%}}.page-headers.jsx-7f841737802b69f5 p.jsx-7f841737802b69f5 span.jsx-7f841737802b69f5{color:#fff;font-family:"Poppins Light";font-weight:400;font-size:18px;letter-spacing:.02em;text-transform:uppercase;text-align:center;-webkit-text-decoration-line:underline;-moz-text-decoration-line:underline;text-decoration-line:underline}.page-headers.jsx-7f841737802b69f5 button.jsx-7f841737802b69f5{margin:20px auto 0 auto;height:45px;padding:15px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;background-color:#fff;color:#2D3B7D;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;cursor:pointer;font-family:"Poppins Light";font-weight:400;font-size:18px;letter-spacing:.02em;text-transform:uppercase}'})]})}},1536:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.destroyCookie=t.setCookie=t.parseCookies=void 0;var o=i(7427),n=i(4635),s=i(6905);function a(e,t){var i,r;return(null===(r=null===(i=null==e?void 0:e.req)||void 0===i?void 0:i.headers)||void 0===r?void 0:r.cookie)?o.parse(e.req.headers.cookie,t):s.isBrowser()?o.parse(document.cookie,t):{}}function l(e,t,i,a){var l,c;if(void 0===a&&(a={}),(null===(l=null==e?void 0:e.res)||void 0===l?void 0:l.getHeader)&&e.res.setHeader){if(null===(c=null==e?void 0:e.res)||void 0===c?void 0:c.finished)return console.warn('Not setting "'+t+'" cookie. Response has finished.'),console.warn("You should set cookie before res.send()"),{};var f=e.res.getHeader("Set-Cookie")||[];"string"==typeof f&&(f=[f]),"number"==typeof f&&(f=[]);var d=n.parse(f,{decodeValues:!1}),p=s.createCookie(t,i,a),u=[];d.forEach(function(e){if(!s.areCookiesEqual(e,p)){var t=o.serialize(e.name,e.value,r({encode:function(e){return e}},e));u.push(t)}}),u.push(o.serialize(t,i,a)),e.res.setHeader("Set-Cookie",u)}if(s.isBrowser()){if(a&&a.httpOnly)throw Error("Can not set a httpOnly cookie in the browser.");document.cookie=o.serialize(t,i,a)}return{}}function c(e,t,i){return l(e,t,"",r(r({},i||{}),{maxAge:-1}))}t.parseCookies=a,t.setCookie=l,t.destroyCookie=c,t.default={set:l,get:a,destroy:c}},6905:function(e,t){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(e,t){var i=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(i.length!==r.length)return!1;for(var o=0;o<i.length;o++){var n=i[o];if(e[n]!==t[n])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.areCookiesEqual=t.hasSameProperties=t.createCookie=t.isBrowser=void 0,t.isBrowser=function(){return"undefined"!=typeof window},t.createCookie=function(e,t,r){var o=r.sameSite;!0===o&&(o="strict"),(void 0===o||!1===o)&&(o="lax");var n=i(i({},r),{sameSite:o});return delete n.encode,i({name:e,value:t},n)},t.hasSameProperties=r,t.areCookiesEqual=function(e,t){var o=e.sameSite===t.sameSite;return"string"==typeof e.sameSite&&"string"==typeof t.sameSite&&(o=e.sameSite.toLowerCase()===t.sameSite.toLowerCase()),r(i(i({},e),{sameSite:void 0}),i(i({},t),{sameSite:void 0}))&&o}},4635:e=>{"use strict";var t={decodeValues:!0,map:!1,silent:!1};function i(e){return"string"==typeof e&&!!e.trim()}function r(e,r){var o,n,s,a,l=e.split(";").filter(i),c=(o=l.shift(),n="",s="",(a=o.split("=")).length>1?(n=a.shift(),s=a.join("=")):s=o,{name:n,value:s}),f=c.name,d=c.value;r=r?Object.assign({},t,r):t;try{d=r.decodeValues?decodeURIComponent(d):d}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+d+"'. Set options.decodeValues to false to disable this feature.",e)}var p={name:f,value:d};return l.forEach(function(e){var t=e.split("="),i=t.shift().trimLeft().toLowerCase(),r=t.join("=");"expires"===i?p.expires=new Date(r):"max-age"===i?p.maxAge=parseInt(r,10):"secure"===i?p.secure=!0:"httponly"===i?p.httpOnly=!0:"samesite"===i?p.sameSite=r:"partitioned"===i?p.partitioned=!0:p[i]=r}),p}function o(e,o){if(o=o?Object.assign({},t,o):t,!e)return o.map?{}:[];if(e.headers){if("function"==typeof e.headers.getSetCookie)e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var n=e.headers[Object.keys(e.headers).find(function(e){return"set-cookie"===e.toLowerCase()})];n||!e.headers.cookie||o.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=n}}return(Array.isArray(e)||(e=[e]),o.map)?e.filter(i).reduce(function(e,t){var i=r(t,o);return e[i.name]=i,e},{}):e.filter(i).map(function(e){return r(e,o)})}e.exports=o,e.exports.parse=o,e.exports.parseString=r,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var t,i,r,o,n,s=[],a=0;function l(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,n=!1;l();)if(","===(i=e.charAt(a))){for(r=a,a+=1,l(),o=a;a<e.length&&"="!==(i=e.charAt(a))&&";"!==i&&","!==i;)a+=1;a<e.length&&"="===e.charAt(a)?(n=!0,a=o,s.push(e.substring(t,r)),t=a):a=r+1}else a+=1;(!n||a>=e.length)&&s.push(e.substring(t,e.length))}return s}}},e=>{var t=t=>e(e.s=t);e.O(0,[98,23,636,593,792],()=>t(5538)),_N_E=e.O()}]);